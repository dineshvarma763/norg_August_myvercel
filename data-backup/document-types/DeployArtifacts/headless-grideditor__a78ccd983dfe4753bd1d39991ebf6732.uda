{
  "Name": "Image",
  "Alias": "my-image",
  "Icon": "icon-umb-media color-black",
  "Javascript": "import { LitElement, css, html } from 'https://cdn.jsdelivr.net/gh/lit/dist@2/all/lit-all.min.js'\r\nimport { mediaPicker } from '@headless-backoffice-bridge'\r\n\r\nexport default class extends LitElement {\r\n  static properties = {\r\n    value: { type: String },\r\n    active: {type: Boolean}\r\n  }\r\n\r\n  static styles = css`\r\n.container {\r\n  position: relative;\r\n}\r\n.controls {\r\n  display: none;\r\n  position: absolute;\r\n  top: .5rem;\r\n  right: .5rem;\r\n}\r\n.controls.--active {\r\n  display: flex;\r\n}\r\n\r\n.controls button {\r\n  display: inline-block;\r\n  position: relative;\r\n  padding: 6px 14px;\r\n  margin: 0;\r\n  font-size: 15px;\r\n  line-height: 20px;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  cursor: pointer;\r\n  background: var(--color-sand-5);\r\n  color: var(--color-blue-extra-dark);\r\n  border-color: var(--color-sand-5);\r\n  border: none;\r\n  box-shadow: none;\r\n  border-radius: 3px;\r\n  font-weight: 700;\r\n}\r\n\r\n.controls button:hover {\r\n  color: var(--color-blue-mid);\r\n  background-color: var(--color-sand-6);\r\n  text-decoration: none;\r\n  transition: background-position .1s linear;\r\n}\r\n\r\n.controls button:active {\r\n  outline: 0;\r\n  box-shadow: inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05);\r\n}\r\n\r\n.controls button:focus {\r\n  color: var(--color-blue-mid);\r\n  background-color: var(--color-sand-6);\r\n  text-decoration: none;\r\n}\r\n\r\n.placeholder {\r\n  margin: 0;\r\n  border: none;\r\n  background: none;\r\n  color: currentColor;\r\n  font-family: var(--font-family-base);\r\n  font-size: var(--font-size-base);\r\n  line-height: var(--line-height-base);\r\n  cursor: pointer;\r\n\r\n  min-height: 110px;\r\n  padding: 20px;\r\n  padding-bottom: 30px;\r\n  position: relative;\r\n  background-color: var(--color-white);\r\n  border: 4px dashed var(--color-gray-8);\r\n  text-align: -moz-center;\r\n  text-align: center;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.placeholder .icon svg {\r\n  fill: var(--color-gray-8);\r\n  font-size: 85px;\r\n  line-height: 1;\r\n  display: inline-block;\r\n  height: 1.15em;\r\n  width: 1.15em;\r\n  margin: 10px auto;\r\n}\r\n\r\n.placeholder .help-text {\r\n  color: var(--color-black);\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  display: inline-block;\r\n  clear: both;\r\n}\r\n  `\r\n\r\n  async showPicker(media) {\r\n    mediaPicker.show({\r\n      disableFolderSelect: true,\r\n      onlyImages: true,\r\n      target: media ? { altText: media.altText, caption: media.caption, coordinates: media.coordinates, focalPoint: media.focalPoint, udi: media.url } : undefined,\r\n      showDetails: true,\r\n      submit: (items) => {\r\n        this.updateControlValue(items[0])\r\n      }\r\n    })\r\n  }\r\n\r\n  updateControlValue(selectedImage) {\r\n    this.value = {\r\n      altText: selectedImage.altText,\r\n      caption: selectedImage.caption,\r\n      coordinates: selectedImage.coordinates,\r\n      focalPoint: selectedImage.focalPoint,\r\n      url: selectedImage.udi,\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.value?.url) {\r\n      return html`<div class=\"container\">\r\n      <umbh-image\r\n        mode=\"cover\"\r\n        width=\"1280\"\r\n        height=\"400\"\r\n        alt=${this.value.altText}\r\n        udi=${this.value.url}\r\n        .focalPoint=${this.value.focalPoint}\r\n        .coordinates=${this.value.coordinates}></umbh-image>\r\n\r\n      <div class=\"controls ${(this.active ? '--active' : '')}\">\r\n        <button type=\"button\"\r\n          @click=${() => this.showPicker()}>Select Media</uui-button>\r\n        <button type=\"button\"\r\n          @click=${() => this.showPicker(this.value)}>Edit</uui-button>\r\n      </div>\r\n  </div>`\r\n    }\r\n\r\n    return html`<button type=\"button\" class=\"btn-reset placeholder\" @click=${() => this.showPicker()}>\r\n      <div class=\"icon\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n          <path d=\"M246.486 299.31l-85.604-91.047-58.21 107.66v29.658h289.12c-36.821-31.753-114.476-99.682-114.476-99.682l-30.83 53.411zM347 230.786c16.062 0 29.073-13 29.073-29.06 0-16.04-13.012-29.062-29.073-29.062-16.019 0-29.038 13.021-29.038 29.062 0 16.06 13.019 29.06 29.038 29.06zM37.74 102.699v306.569h434.688V102.699H37.74zm396.082 267.916H77.635l-.016-228.033h354.928v.017h1.275v228.016z\"></path>\r\n        </svg>\r\n      </div>\r\n      <span class=\"help-text\">Click to insert image</span>\r\n  </button>`\r\n  }\r\n}",
  "Schema": "{\r\n    \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\r\n    \"title\": \"Image\",\r\n    \"description\": \"An Image with alt text, caption, coordinates and focal point.\",\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n        \"altText\": {\r\n            \"description\": \"Description of the image content.\",\r\n            \"type\": \"string\"\r\n        },\r\n        \"caption\": {\r\n            \"description\": \"Short explanation of the image.\",\r\n            \"type\": \"string\"\r\n        },\r\n        \"coordinates\": {\r\n            \"title\": \"Coordinates\",\r\n            \"description\": \"The Crop coordinates.\",\r\n            \"type\": \"object\",\r\n            \"properties\": {\r\n                \"x1\": { \"type\": \"number\", \"minimum\": 0 },\r\n                \"x2\": { \"type\": \"number\", \"minimum\": 0 },\r\n                \"y1\": { \"type\": \"number\", \"minimum\": 0 },\r\n                \"y2\": { \"type\": \"number\", \"minimum\": 0 }\r\n            },\r\n            \"required\": [\"x1\", \"x2\", \"y1\", \"y2\"]\r\n        },\r\n        \"focalPoint\": {\r\n            \"title\": \"FocalPoint\",\r\n            \"description\": \"The Focal point.\",\r\n            \"type\": \"object\",\r\n            \"properties\": {\r\n                \"left\": { \"type\": \"number\", \"minimum\": 0 },\r\n                \"top\": { \"type\": \"number\", \"minimum\": 0 }\r\n            },\r\n            \"required\": [\"left\", \"top\"]\r\n        },\r\n        \"url\": {\r\n            \"description\": \"The image url.\",\r\n            \"type\": \"string\",\r\n            \"format\": \"uri-reference\"\r\n        }\r\n    },\r\n    \"required\": [\r\n        \"url\"\r\n    ]\r\n}\r\n",
  "Udi": "umb://headless-grideditor/a78ccd983dfe4753bd1d39991ebf6732",
  "Dependencies": [],
  "__type": "Umbraco.Cloud.Headless,Umbraco.Cloud.Headless.Deploy.HeadlessGridEditorArtifact",
  "__version": "4.7.4"
}